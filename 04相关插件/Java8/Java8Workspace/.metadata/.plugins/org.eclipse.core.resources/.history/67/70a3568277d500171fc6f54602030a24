package Test;

import java.io.File;
import java.io.FileFilter;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;

import org.junit.After;
import org.junit.Before;
import org.junit.Test;

import com.sun.javafx.collections.MappingChange.Map;

public class Chap1Test {
	private List<User> userList;

	@Test
	public void test0() {
		// userList.sort(comparing);
	}

	@Test
	public void testFile() {
		String fileName="F:\\AllProject\\04Ïà¹Ø²å¼þ\\Java8\\PDF½ØÍ¼";
		File[] hiddenFiles = new File(fileName).listFiles(new FileFilter() {
			@Override
			public boolean accept(File file) {
				return file.isHidden();
			}
		});
		for (File file : hiddenFiles) {
			System.out.println(file.getName());
		}
		
		System.out.println("------------------");
		
		File[] hiddenFiles2=new File(fileName).listFiles(File::isHidden);
		for (File file : hiddenFiles2) {
			System.out.println(file.getName());
		}
	}

	/**
	 * Î½´Ê
	 */
	@Test
	public void test1() {
		initUserList();
		userList = UserFilter.filUser(userList, User::isAdult);
		outputUserList();
	}

	/**
	 * Lambda
	 */
	@Test
	public void test2() {
		initUserList();
		userList = UserFilter.filUser(userList, (User user) -> user.getAddress().contains("address"));
		outputUserList();
	}

	/**
	 * ·ºÐÍFilter²âÊÔ
	 */
	@Test
	public void test3() {
		initUserList();
		userList = TemplateFilter.filter(userList, (User user) -> !user.getAddress().contains("address"));
		outputUserList();
	}
	
	
	@Test
	public void test14(){
//		initUserList();
//		Map<Integer,List<User>> usersMap=userList.stream().filter((User user)->18>user.getAge())
//				.collect(groupingBy(User::getSex));
//		outputUserList();
	}

	private void initUserList() {
		userList = new ArrayList<User>();
		for (int i = 0; i < 10; i++) {
			userList.add(new User("Ð¡" + i, i + 15,i%2==0?1:0,"address" + i));
		}
	}

	private void outputUserList() {
		for (User user : userList) {
			System.out.println(user);
		}
	}

}
